{"version":3,"sources":["components/Filter.js","services/personService.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Filter","filter","setFilter","value","onChange","event","target","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","PersonForm","persons","newName","newNumber","setPersons","setNewName","setNewNumber","setMessage","handleNameChange","setError","handleNumberChange","onSubmit","addName","preventDefault","newPerson","name","number","map","person","includes","window","confirm","type","find","p","personService","initialPersons","setTimeout","catch","error","console","log","JSON","stringify","Person","toLowerCase","onClick","Persons","key","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Error","undefined","App","useState","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.77032ab1.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filter, setFilter}) => {\r\n    const handleFilter = (event) => {\r\n        setFilter(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            filter shown with <input\r\n                value={filter}\r\n                onChange={handleFilter}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React from 'react'\r\nimport personService from '../services/personService'\r\n\r\nconst PersonForm = ({ persons, newName, newNumber, setPersons, setNewName, setNewNumber, setMessage, setError }) => {\r\n    const addName = (event) => {\r\n        event.preventDefault()\r\n        const newPerson = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        const names = persons.map(person => person.name)\r\n\r\n        if (names.includes(newName)) {\r\n            const confirm = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\r\n\r\n            if (confirm) {\r\n                const person = persons.find(p => p.name === newName)\r\n                const id = person.id\r\n\r\n                personService\r\n                    .update(id, newPerson)\r\n                    .then(personService\r\n                        .getAll()\r\n                        .then(initialPersons => {\r\n                            setPersons(initialPersons)\r\n                        })\r\n                    )\r\n\r\n                setMessage(\r\n                    `Modified ${newName}`\r\n                )\r\n                setTimeout(() => {\r\n                    setMessage('')\r\n                }, 5000)\r\n\r\n                setNewName('')\r\n                setNewNumber('')\r\n            } else {\r\n                return (\r\n                    <form onSubmit={addName}>\r\n                        <div>\r\n                            name: <input\r\n                                value={newName}\r\n                                onChange={handleNameChange}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            number: <input\r\n                                value={newNumber}\r\n                                onChange={handleNumberChange}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <button type=\"submit\">add</button>\r\n                        </div>\r\n                    </form>\r\n                )\r\n            }\r\n        } else {\r\n            personService\r\n                .create(newPerson)\r\n                .then(personService\r\n                    .getAll()\r\n                    .then(initialPersons => {\r\n                        setPersons(initialPersons)\r\n\r\n            \r\n                        setNewName('')\r\n                        setNewNumber('')\r\n                    })\r\n                )\r\n                .catch(error => {\r\n                    console.log(JSON.stringify(error.response.data))\r\n                    setMessage(\r\n                        `${JSON.stringify(error.response.data)}`\r\n                    )\r\n                    setTimeout(() => {\r\n                        setMessage('')\r\n                    }, 5000)\r\n        \r\n                    setNewName('')\r\n                    setNewNumber('')\r\n                })\r\n        }\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={addName}>\r\n            <div>\r\n                name: <input\r\n                    value={newName}\r\n                    onChange={handleNameChange}\r\n                />\r\n            </div>\r\n            <div>\r\n                number: <input\r\n                    value={newNumber}\r\n                    onChange={handleNumberChange}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\nimport personService from '../services/personService'\r\n\r\nconst Person = ({ name, number, filter, id, setPersons, setError }) => {\r\n  const deletePerson = () => {\r\n    const confirm = window.confirm(`Delete ${name} ?`)\r\n\r\n    if (confirm) {\r\n      personService\r\n        .remove(id)\r\n        .then(\r\n          personService\r\n            .getAll()\r\n            .then(initialPersons => {\r\n              setPersons(initialPersons)\r\n            })\r\n        )\r\n        .catch(error => {\r\n          setError(\r\n            `Information of ${name} has already been removed from server`\r\n          )\r\n          setTimeout(() => {\r\n            setError('')\r\n          }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n  if (!name.toLowerCase().includes(filter.toLowerCase())) return (<></>)\r\n\r\n  return (\r\n    <>\r\n      {name + ' ' + number}\r\n      <button onClick={() => deletePerson()}>delete</button>\r\n      <br />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, setPersons, filter, setError }) => {\r\n    return (\r\n        <div>\r\n            {\r\n                persons.map(person =>\r\n                    <Person key={person.name} name={person.name} number={person.number} filter={filter} id={person.id} persons={persons} setPersons={setPersons} setError={setError} />\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n    const messageStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (message === '') {\r\n        return <></>\r\n    }\r\n\r\n    return (\r\n        <div style={messageStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst Error = ({message}) => {\r\n    const messageStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (message === undefined) {\r\n        return <></>\r\n    }\r\n\r\n    return (\r\n        <div style={messageStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\nimport Error from './components/Error'\r\nimport personService from './services/personService'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filter, setFilter] = useState('')\r\n  const [message, setMessage] = useState('')\r\n  const [error, setError] = useState('')\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} />\r\n      <Error error={error} />\r\n      <Filter filter={filter} setFilter={setFilter} />\r\n      <h2>add a new</h2>\r\n      <PersonForm persons={persons} newName={newName} newNumber={newNumber} setPersons={setPersons} setNewName={setNewName} setNewNumber={setNewNumber} setMessage={setMessage} setError={setError} />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={persons} setPersons={setPersons} filter={filter} setError={setError} />\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}