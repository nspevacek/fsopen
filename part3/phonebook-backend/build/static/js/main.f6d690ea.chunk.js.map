{"version":3,"sources":["components/Filter.js","services/personService.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Filter","filter","setFilter","value","onChange","event","target","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","PersonForm","persons","newName","newNumber","setPersons","setNewName","setNewNumber","setMessage","handleNameChange","handleNumberChange","onSubmit","addName","preventDefault","newPerson","name","number","map","person","includes","window","confirm","type","find","p","personService","initialPersons","setTimeout","Person","setError","toLowerCase","onClick","catch","error","Persons","key","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Error","undefined","App","useState","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f6d690ea.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filter, setFilter}) => {\r\n    const handleFilter = (event) => {\r\n        setFilter(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            filter shown with <input\r\n                value={filter}\r\n                onChange={handleFilter}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React from 'react'\r\nimport personService from '../services/personService'\r\n\r\nconst PersonForm = ({ persons, newName, newNumber, setPersons, setNewName, setNewNumber, setMessage }) => {\r\n    const addName = (event) => {\r\n        event.preventDefault()\r\n        const newPerson = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        const names = persons.map(person => person.name)\r\n\r\n        if (names.includes(newName)) {\r\n            const confirm = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\r\n\r\n            if (confirm) {\r\n                const person = persons.find(p => p.name === newName)\r\n                const id = person.id\r\n\r\n                personService\r\n                    .update(id, newPerson)\r\n                    .then(personService\r\n                        .getAll()\r\n                        .then(initialPersons => {\r\n                            setPersons(initialPersons)\r\n                        })\r\n                    )\r\n\r\n                setMessage(\r\n                    `Modified ${newName}`\r\n                )\r\n                setTimeout(() => {\r\n                    setMessage('')\r\n                }, 5000)\r\n\r\n                setNewName('')\r\n                setNewNumber('')\r\n            } else {\r\n                return (\r\n                    <form onSubmit={addName}>\r\n                        <div>\r\n                            name: <input\r\n                                value={newName}\r\n                                onChange={handleNameChange}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            number: <input\r\n                                value={newNumber}\r\n                                onChange={handleNumberChange}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <button type=\"submit\">add</button>\r\n                        </div>\r\n                    </form>\r\n                )\r\n            }\r\n        } else {\r\n            personService\r\n                .create(newPerson)\r\n                .then(personService\r\n                    .getAll()\r\n                    .then(initialPersons => {\r\n                        setPersons(initialPersons)\r\n                    })\r\n                )\r\n            setMessage(\r\n                `Added ${newName}`\r\n            )\r\n            setTimeout(() => {\r\n                setMessage('')\r\n            }, 5000)\r\n\r\n            setNewName('')\r\n            setNewNumber('')\r\n        }\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={addName}>\r\n            <div>\r\n                name: <input\r\n                    value={newName}\r\n                    onChange={handleNameChange}\r\n                />\r\n            </div>\r\n            <div>\r\n                number: <input\r\n                    value={newNumber}\r\n                    onChange={handleNumberChange}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\nimport personService from '../services/personService'\r\n\r\nconst Person = ({ name, number, filter, id, setPersons, setError }) => {\r\n  const deletePerson = () => {\r\n    const confirm = window.confirm(`Delete ${name} ?`)\r\n\r\n    if (confirm) {\r\n      personService\r\n        .remove(id)\r\n        .then(\r\n          personService\r\n            .getAll()\r\n            .then(initialPersons => {\r\n              setPersons(initialPersons)\r\n            })\r\n        )\r\n        .catch(error => {\r\n          setError(\r\n            `Information of ${name} has already been removed from server`\r\n          )\r\n          setTimeout(() => {\r\n            setError('')\r\n          }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n  if (!name.toLowerCase().includes(filter.toLowerCase())) return (<></>)\r\n\r\n  return (\r\n    <>\r\n      {name + ' ' + number}\r\n      <button onClick={() => deletePerson()}>delete</button>\r\n      <br />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, setPersons, filter, setError }) => {\r\n    return (\r\n        <div>\r\n            {\r\n                persons.map(person =>\r\n                    <Person key={person.name} name={person.name} number={person.number} filter={filter} id={person.id} persons={persons} setPersons={setPersons} setError={setError} />\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n    const messageStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (message === '') {\r\n        return <></>\r\n    }\r\n\r\n    return (\r\n        <div style={messageStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst Error = ({message}) => {\r\n    const messageStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (message === undefined) {\r\n        return <></>\r\n    }\r\n\r\n    return (\r\n        <div style={messageStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\nimport Error from './components/Error'\r\nimport personService from './services/personService'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filter, setFilter] = useState('')\r\n  const [message, setMessage] = useState('')\r\n  const [error, setError] = useState('')\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} />\r\n      <Error error={error} />\r\n      <Filter filter={filter} setFilter={setFilter} />\r\n      <h2>add a new</h2>\r\n      <PersonForm persons={persons} newName={newName} newNumber={newNumber} setPersons={setPersons} setNewName={setNewName} setNewNumber={setNewNumber} setMessage={setMessage} />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={persons} setPersons={setPersons} filter={filter} setError={setError} />\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}